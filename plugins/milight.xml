<grammar version="1.0" xml:lang="fr-FR" mode="voice" root="rulemilight" xmlns="http://www.w3.org/2001/06/grammar" tag-format="semantics/1.0">

  <rule id="rulemilight" scope="public">
    <tag>out.action=new Object(); </tag> 
    <item>SARAH</item>
    <one-of>
		<item>
			<ruleref uri="#ruleRGBW"/><tag>out.action = rules.ruleRGBW;</tag>
		</item>
		<item>
			<ruleref uri="#ruleAllume"/><tag>out.action = rules.ruleAllume;</tag>
		</item>
		<item>
			<ruleref uri="#ruleEteins"/><tag>out.action = rules.ruleEteins;</tag>
		</item>
    </one-of>
    <tag>out.action._attributes.uri="http://127.0.0.1:8080/sarah/milight";</tag>
  </rule>

  
	<!-- Allume la/les lampes -->
	<rule id="ruleRGBW">
		<tag>out.action=new Object(); </tag>
		<item repeat="0-1">
			<one-of>
				<item>Allume</item>			
			</one-of>

			<one-of>
				<item>le salon <tag>out.action.action="RGBW.ZONE_1_ON";</tag></item>
				<item>le couloir <tag>out.action.action="RGBW.ZONE_2_ON";</tag></item>
			</one-of>
			
		</item>
	</rule>
  
	<!-- Allume la/les lampes -->
	<rule id="ruleAllume">
		<tag>out.action=new Object(); </tag>
		<item repeat="0-1">
			<one-of>
				<item>Allume</item>			
			</one-of>

			<one-of>
				<item>la lampe du salon<tag>out.action.action="RGBW.ZONE_1_ON";</tag></item>
				<item>la lumière du salon<tag>out.action.action="RGBW.ZONE_1_ON";</tag></item>				
				<item>la lampe de la chambre<tag>out.action.action="RGB.ALL_ON";</tag></item>
				<item>la lampe du couloir<tag>out.action.action="RGBW.ZONE_2_ON";</tag></item>
			</one-of>
			
			<!-- Couleurs -->
			<one-of>
				<item>en blanc<tag>out.action.action+=",RGBW.DISCO_MODE_PREVIOUS";</tag></item>
				<item>en bleu<tag>out.action.action+=",RGBW.SET_COLOR_BLUE";</tag></item>
				<item>en bleu roi<tag>out.action.action+=",RGBW.SET_COLOR_BLEU_ROI";</tag></item>
				<item>en fuchia<tag>out.action.action+=",RGBW.SET_COLOR_FUCHIA";</tag></item>
				<item>en lila<tag>out.action.action+=",RGBW.SET_COLOR_LILA";</tag></item>
				<item>en lavande<tag>out.action.action+=",RGBW.SET_COLOR_LAVANDE";</tag></item>
				<item>en violet<tag>out.action.action+=",RGBW.SET_COLOR_VIOLET";</tag></item>
				<item>en aqua<tag>out.action.action+=",RGBW.SET_COLOR_AQUA";</tag></item>
				<item>en mente<tag>out.action.action+=",RGBW.SET_COLOR_MENTE";</tag></item>
				<item>en écume de mer<tag>out.action.action+=",RGBW.SET_COLOR_SEAFOAM_GREEN";</tag></item>
				<item>en vert<tag>out.action.action+=",RGBW.SET_COLOR_VERT";</tag></item>
				<item>en citron vert<tag>out.action.action+=",RGBW.SET_COLOR_CITRON_VERT";</tag></item>
				<item>en jaune<tag>out.action.action+=",RGBW.SET_COLOR_JAUNE";</tag></item>
				<item>en jaune orange<tag>out.action.action+=",RGBW.SET_COLOR_JAUNE_ORANGE";</tag></item>
				<item>en orange<tag>out.action.action+=",RGBW.SET_COLOR_ORANGE";</tag></item>
				<item>en rouge<tag>out.action.action+=",RGBW.SET_COLOR_ROUGE";</tag></item>
				<item>en rose<tag>out.action.action+=",RGBW.SET_COLOR_ROSE";</tag></item>
			</one-of>
			
		</item>
	</rule>	
	
	<!-- Eteins la/les lampes -->	
	<rule id="ruleEteins">
		<tag>out.action=new Object(); </tag>
		<tag>out.action=new Object(); </tag>
		<item repeat="0-1">
			<one-of>
				<item>eteins</item>
			</one-of>
			
			<one-of>
				<item>la lampe du salon<tag>out.action.action="RGBW.ZONE_1_OFF";</tag></item>
				<item>le salon<tag>out.action.action="RGBW.ZONE_1_OFF";</tag></item>				
				<item>la lampe du couloir<tag>out.action.action="RGBW.ZONE_2_OFF";</tag></item>
				<item>le couloir<tag>out.action.action="RGBW.ZONE_2_OFF";</tag></item>
				<item>tout<tag>out.action.action="RGBW.ALL_OFF";</tag></item>
			</one-of>
			
		</item>
	</rule>		


</grammar>